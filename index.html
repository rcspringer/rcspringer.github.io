<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Portfolio | Roy Springer</title>
    <link rel="stylesheet" href="css/main.css" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Serif+Text&family=Montserrat:ital,wght@0,200;1,200&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="background-container">
      <img class="background" src="./img/background.png" alt="background" />
    </div>
    <nav class="nav-bar">
      <h3 class="nav-initials">RS.</h3>
    </nav>
    <main class="main-container">
      <h1 class="quote">
        <span id="quote"></span><span id="author" class="author"></span>
      </h1>
    </main>
    <script>
      window.addEventListener("load", async () => {
        const quote = await getQuote();
        setQuote(quote);
      });

      async function getQuote() {
        try {
          const response = await fetch("https://freequote.herokuapp.com/", {
            method: "GET",
          });
          const data = await response.json();
          console.log(data);
          return data;
        } catch (e) {
          console.log("Could not fetch api");
        }
      }

      function setQuote(quote) {
        document.getElementById("quote").innerHTML = quote.quote;
        if (quote.author.length > 0) {
          document.getElementById("author").innerHTML = " - " + quote.author;
        } else {
          document.getElementById("author").innerHTML = "";
        }
      }
    </script>
  </body>
</html>
